<form id="addlead2" action="">
    <div class="row">
 
     <!--UPLOAD-->
     <div class="col-md-12">
     <div class=" excfnthr">
        <label for="" class="excfllbl m-1"><span class="aster">* </span>Choose CSV File</label>
        <div class="input-group d-flex flex-nowrap">
            <input type="file" class="chooseexcfle" name="import">
        </div>
    </div>
</div>
</div>

<div class="row">
    <div class="col-md-12 blkftr ali_bottommargforsave">
      <div class="modal-footer ">
        <button type="button" class="taskclose1 me-0 mb-3" data-bs-dismiss="modal">
          CLOSE
        </button>
        <!-- <button type="submit" class="tasksave1">SAVE</button> -->
        <button type="submit" class="tasksave1 me-0 mb-3" form="addlead2">Upload</button>
      </div>
    </div>
  </div>
 </form>
 
 <script>
     $(document).ready(function () {
         $('#addlead2').formValidation({
 
             framework: 'bootstrap',
             fields: {
                 // city: {
                 //     validators: {
                 //         notEmpty: {
                 //             message: 'This field is required'
                 //         }
                 //     }
                 // },
                 // state: {
                 //     validators: {
                 //         notEmpty: {
                 //             message: 'This field is required'
                 //         }
                 //     }
                 // },
                 import: {
                     validators: {
                         notEmpty: {
                             message: 'Choose CSV file'
                         }
                     }
                 },
             }
         })
             .on('success.form.fv', function (e) {
                 e.preventDefault();
 
                 var form = document.querySelector('#addlead2');
                 var dataForm = new FormData(form);
 
                 $.ajax({
                     type: 'POST',
                     url: '<?= base_url() ?>/home/saveWarehouse',
                     data: dataForm,
                     cache: false,
                     contentType: false,
                     processData: false,
                     dataType: 'json',
                     success: function (result) {
                         console.log(result);
                         toastr.success('Data saved successfully', 'Success');
                         $('#modal_md').modal('hide');
                         setTimeout(function () {
                             location.reload();
                         }, 800);
                     },
                     error: function (error) {
                         console.error(error);
                         toastr.error('An error occurred', 'Error');
                     }
                 });
             });
     });
 </script>
 
 <!--   show date picker  -->
 <script>
     document.getElementById('date').addEventListener('click', () =>
     {
         if ('showPicker' in HTMLInputElement.prototype)
         {
             document.getElementById('date').showPicker();
         }
     })
 </script>
 
 <script>
     $(".button_su_inner").mouseenter(function (e)
     {
         var parentOffset = $(this).offset();
 
         var relX = e.pageX - parentOffset.left;
         var relY = e.pageY - parentOffset.top;
         $(this).prev(".su_button_circle").css({ "left": relX, "top": relY });
         $(this).prev(".su_button_circle").removeClass("desplode-circle");
         $(this).prev(".su_button_circle").addClass("explode-circle");
 
     });
 
     $(".button_su_inner").mouseleave(function (e)
     {
 
         var parentOffset = $(this).offset();
 
         var relX = e.pageX - parentOffset.left;
         var relY = e.pageY - parentOffset.top;
         $(this).prev(".su_button_circle").css({ "left": relX, "top": relY });
         $(this).prev(".su_button_circle").removeClass("explode-circle");
         $(this).prev(".su_button_circle").addClass("desplode-circle");
 
     });
 
 
 
 </script>